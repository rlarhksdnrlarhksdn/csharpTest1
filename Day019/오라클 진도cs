#14-40
CREATE TABLE EMP_FK(

   DEPTNO NUMBER(2) CONSTRAINT EMPFK_DEPTNO_FK
          REFERENCES DEPT_FK(DEPTNO)
);

#제약 조건 이름 직접 지정
CREATE TABLE TABLE_NOTNULL2(
    LOGIN_ID VARCHAR2(20) CONSTRAINT CNAME_LOGID NOT NULL,
    LOGIN_PWD VARCHAR2(20) CONSTRAINT CNAME_LOGPW NOT NULL,
    TEL       VARCHAR2(20)
);

DESC TABLE_NOTNULL2;

SELECT OWNER, CONSTRAINT_NAME, CONSTRAINT_TYPE, TABLE_NAME
FROM USER_CONSTRAINTS;

COMMIT;
DESC TABLE_NOTNULL2;

ALTER TABLE TABLE_NOTNULL2
 MODIFY (TEL NOT NULL);
 
#제약 조건 이름 삭제
ALTER TABLE TABLE_NOTNULL2
 DROP CONSTRAINT SYS_C007019;

#제약조건 이름 추가하기
ALTER TABLE TABLE_NOTNULL2
 MODIFY (TEL CONSTRAINT CNAME_1 NOT NULL);

# 중복되지 않는 값 UNIQUE
CREATE TABLE TABLE_UNIQUE(
    LOGIN_ID VARCHAR2(20) UNIQUE,
    LOGIN_PWD VARCHAR2(20) NOT NULL,
    TEL       VARCHAR2(20)
);

DESC TABLE_UNIQUE;

SELECT OWNER, CONSTRAINT_NAME, CONSTRAINT_TYPE, TABLE_NAME
FROM USER_CONSTRAINTS;

INSERT INTO TABLE_UNIQUE (LOGIN_ID, LOGIN_PWD, TEL)
VALUES ('1', 'USER_1', '010-111-1111');

INSERT INTO TABLE_UNIQUE (LOGIN_ID, LOGIN_PWD, TEL)
VALUES ('2', 'USER_1', '010-111-1111');

SELECT * FROM TABLE_UNIQUE;

CREATE TABLE TABLE_PK(
    LOGIN_ID VARCHAR2(20) PRIMARY KEY,
    LOGIN_PWD VARCHAR2(20) NOT NULL,
    TEL       VARCHAR2(20)
);

DESC TABLE_PK;

SELECT OWNER, CONSTRAINT_NAME, CONSTRAINT_TYPE, TABLE_NAME
FROM USER_CONSTRAINTS;

#P381
CREATE TABLE TABLE_NAME(
    COL1 VARCHAR2(20) CONSTRAINT AAA PRIMARY KEY,
    COL2 VARCHAR2(20) NOT NULL,
    COL3       VARCHAR2(20)
);

CREATE TABLE TABLE_NAME(
    COL1 VARCHAR2(20), 
    COL2 VARCHAR2(20),
    COL3 VARCHAR2(20),
    PRIMARY KEY (COL1),
    CONSTRAINT BBB UNIQUE (COL2)
);

#FOREIGN KEY 지정
#DEPT_FK, EMP_FK
SELECT * FROM EMP_FK;
SELECT * FROM DEPT_FK;

DROP TABLE DEPT_FK;

CREATE TABLE DEPT_FK (
    DEPTNO NUMBER(2) CONSTRAINT DEPT_PK PRIMARY KEY,
    DNAME VARCHAR2 (14),
    LOC VARCHAR2(13)
);

CREATE TABLE EMP_FK(
    EMPNO NUMBER (4) CONSTRAINT EMP_PK PRIMARY KEY,
    DEPTNO NUMBER (2) CONSTRAINT CCC REFERENCES DEPT_FK (DEPTNO)
);

SELECT * FROM EMP_FK;
SELECT * FROM DEPT_FK;
DESC EMP_FK;
DESC DEPT_FK;

# 14-41 ~ 43

CREATE TABLE EMP_FK(
    EMPNO NUMBER (4) CONSTRAINT EMP_PK PRIMARY KEY,
    ENAME VARCHAR2(10),
    JOB VARCHAR2(9),
    MGR NUMBER (4),
    HIREDATE DATE,
    SAL NUMBER(7,2),
    COMM NUMBER (7,2),
    DEPTNO NUMBER (2) CONSTRAINT CCC REFERENCES DEPT_FK (DEPTNO)
);

INSERT INTO DEPT_FK
VALUES(10, 'TEST_DANME', 'TEST_LOC');

INSERT INTO EMP_FK
VALUES(9999, 'TEST_NMAME', 'TEST_JOB', NULL, TO_DATE('2001/01/01', 'YYYY/MM/DD'),
3000, NULL, 10);
